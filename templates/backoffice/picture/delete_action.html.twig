{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var action \EasyCorp\Bundle\EasyAdminBundle\Dto\ActionDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}

{# URL de récupération des publications liées au média #}
{% set url_publications = ea_url()
    .unsetAll()
    .setController('App\\Controller\\Backoffice\\FichierCrudController')
    .setAction('getRelatedEntities').set('entityId', entity.primaryKeyValueAsString)
%}

<a class="{{ isIncludedInDropdown|default(false) ? 'dropdown-item' }} {{ action.cssClass }} media-delete"
   href="{{ action.linkUrl  }}"
   data-get-entites-url="{{ url_publications }}"
{% for name, value in action.htmlAttributes %}{{ name }}="{{ (value.trans is defined ? value|trans : value)|e('html_attr') }}" {% endfor %}>
{%- if action.icon %}<i class="action-icon {{ action.icon }}"></i> {% endif -%}
{%- if action.label is not empty -%}<span class="action-label">{{ action.label|trans|raw }}</span>{%- endif -%}
</a>